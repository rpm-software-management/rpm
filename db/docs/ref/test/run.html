<!--$Id: run.so,v 10.48 2006/10/02 15:56:35 bostic Exp $-->
<!--Copyright (c) 1997,2007 Oracle.  All rights reserved.-->
<!--See the file LICENSE for redistribution information.-->
<html>
<head>
<title>Berkeley DB Reference Guide: Running the test suite</title>
<meta name="description" content="Berkeley DB: An embedded database programmatic toolkit.">
<meta name="keywords" content="embedded,database,programmatic,toolkit,btree,hash,hashing,transaction,transactions,locking,logging,access method,access methods,Java,C,C++">
</head>
<body bgcolor=white>
<a name="2"><!--meow--></a>
<table width="100%"><tr valign=top>
<td><h3><dl><dt>Berkeley DB Reference Guide:<dd>Test Suite</dl></h3></td>
<td align=right><a href="../upgrade.4.6/disk.html"><img src="../../images/prev.gif" alt="Prev"></a><a href="../toc.html"><img src="../../images/ref.gif" alt="Ref"></a><a href="../test/faq.html"><img src="../../images/next.gif" alt="Next"></a>
</td></tr></table>
<p>
<h3 align=center>Running the test suite</h3>
<p>Once you have started tclsh and have loaded the test.tcl source file
(see <a href="../../ref/build_unix/test.html">Running the test suite under
UNIX</a> and <a href="../../ref/build_win/test.html">Running the test suite
under Windows</a> for more information), you are ready to run the test
suite.  At the tclsh prompt, to run the standard test suite, enter the
following:</p>
<blockquote><pre>% run_std</pre></blockquote>
<p>A more exhaustive version of the test suite runs all the tests several
more times, testing encryption, replication, and different page sizes.
After you have a clean run for run_std, you may choose to run this
lengthier set of tests.  At the tclsh prompt, enter:</p>
<blockquote><pre>% run_all</pre></blockquote>
<p>Running the standard tests can take from several hours to a few days to
complete, depending on your hardware, and running all the tests will
take at least twice as long.  For this reason, the output from these
commands are redirected to a file in the current directory named
<b>ALL.OUT</b>.  Periodically, a line will be written to the standard
output, indicating what test is being run.  When the test suite has
finished, a final message will be written indicating the test suite has
completed successfully or that it has failed.  If the run failed, you
should review the <b>ALL.OUT</b> file to determine which tests failed.
Errors will appear in that file as output lines, beginning with the
string "FAIL".</p>
<p>Tests are run in the directory <b>TESTDIR</b>, by default.  However,
the test files are often large, and you should use a filesystem with at
least several hundred megabytes of free space.  To use a different
directory for the test directory, edit the file include.tcl in your
build directory, and change the following line to a more appropriate
value for your system:</p>
<blockquote><pre>set testdir ./TESTDIR</pre></blockquote>
<p>For example, you might change it to the following:</p>
<blockquote><pre>set testdir /var/tmp/db.test</pre></blockquote>
<p>Alternatively, you can create a symbolic link named TESTDIR in your
build directory to an appropriate location for running the tests.
Regardless of where you run the tests, the TESTDIR directory should be
on a local filesystem.  Using a remote filesystem (for example, an NFS
mounted filesystem) will almost certainly cause spurious test
failures.</p>
<table width="100%"><tr><td><br></td><td align=right><a href="../upgrade.4.6/disk.html"><img src="../../images/prev.gif" alt="Prev"></a><a href="../toc.html"><img src="../../images/ref.gif" alt="Ref"></a><a href="../test/faq.html"><img src="../../images/next.gif" alt="Next"></a>
</td></tr></table>
<p><font size=1>Copyright (c) 1996,2007 Oracle.  All rights reserved.</font>
</body>
</html>
