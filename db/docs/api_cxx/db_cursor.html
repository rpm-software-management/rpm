<!--$Id: db_cursor.so,v 10.47 2004/08/13 03:38:55 bostic Exp $-->
<!--Copyright 1997-2004 by Sleepycat Software, Inc.-->
<!--All rights reserved.-->
<!--See the file LICENSE for redistribution information.-->
<html>
<head>
<title>Berkeley DB: Db::cursor</title>
<meta name="description" content="Berkeley DB: An embedded database programmatic toolkit.">
<meta name="keywords" content="embedded,database,programmatic,toolkit,btree,hash,hashing,transaction,transactions,locking,logging,access method,access methods,Java,C,C++">
</head>
<body bgcolor=white>
<table width="100%"><tr valign=top>
<td>
<h3>Db::cursor</h3>
</td>
<td align=right>
<a href="../api_cxx/api_core.html"><img src="../images/api.gif" alt="API"></a>
<a href="../ref/toc.html"><img src="../images/ref.gif" alt="Ref"></a></td>
</tr></table>
<hr size=1 noshade>
<tt>
<h3><pre>
#include &lt;db_cxx.h&gt;
<p>
int
Db::cursor(DbTxn *txnid, Dbc **cursorp, u_int32_t flags);
</pre></h3>
<hr size=1 noshade>
<h3>Description: Db::cursor</h3>
The Db::cursor method returns a created database cursor.
<p>The Db::cursor method
either returns a non-zero error value
or throws an exception that encapsulates a non-zero error value on
failure, and returns 0 on success.
</p>
<h3>Parameters</h3>
<dl compact>
<dt><b>cursorp</b><dd>The <b>cursorp</b> parameter references memory into which
a pointer to the allocated cursor is copied.
<dt><b>flags</b><dd>The <b>flags</b> parameter must be set to 0 or by bitwise inclusively <b>OR</b>'ing together one
or more of the following values:
<dl compact>
<dt><a name="DB_DEGREE_2">DB_DEGREE_2</a><dd>This cursor will have degree 2 isolation.  This ensures the stability
of the current data item read by this cursor but permits data read
by this cursor to be modified or deleted prior to the commit of
the transaction for this cursor.
<dt><a name="DB_DIRTY_READ">DB_DIRTY_READ</a><dd>All read operations performed by the cursor may return modified but not
yet committed data.  Silently ignored if the <a href="../api_cxx/db_open.html#DB_DIRTY_READ">DB_DIRTY_READ</a> flag
was not specified when the underlying database was opened.
<dt><a name="DB_WRITECURSOR">DB_WRITECURSOR</a><dd>Specify that the cursor will be used to update the database.  The
underlying database environment must have been opened using the
<a href="../api_cxx/env_open.html#DB_INIT_CDB">DB_INIT_CDB</a> flag.
</dl>
<dt><b>txnid</b><dd>If the operation is to be transaction-protected,
the <b>txnid</b> parameter is a transaction handle returned from
<a href="../api_cxx/txn_begin.html">DbEnv::txn_begin</a>; otherwise, NULL.  To transaction-protect cursor operations, cursors must be opened and
closed within the context of a transaction, and the <b>txnid</b>
parameter specifies the transaction context in which the cursor may be
used.
</dl>
<h3>Errors</h3>
<p>The Db::cursor method
may fail and throw
<a href="../api_cxx/except_class.html">DbException</a>,
encapsulating one of the following non-zero errors, or return one of
the following non-zero errors:</p>
<dl compact>
<dt>DB_REP_HANDLE_DEAD<dd>The database handle has been invalidated because a replication election
unrolled a committed transaction.
</dl>
<dl compact>
<dt>EINVAL<dd>An
invalid flag value or parameter was specified.
</dl>
<hr size=1 noshade>
<h3>Class</h3>
<a href="../api_cxx/dbc_class.html">Dbc</a>
<h3>See Also</h3>
<a href="../api_cxx/dbc_list.html">Database Cursors and Related Methods</a>
</tt>
<table width="100%"><tr><td><br></td><td align=right>
<a href="../api_cxx/api_core.html"><img src="../images/api.gif" alt="API"></a><a href="../ref/toc.html"><img src="../images/ref.gif" alt="Ref"></a>
</td></tr></table>
<p><font size=1><a href="../sleepycat/legal.html">Copyright (c) 1996-2004</a> <a href="http://www.sleepycat.com">Sleepycat Software, Inc.</a> - All rights reserved.</font>
</body>
</html>
