<!--$Id: db_set_errfile.so,v 10.10 2002/08/18 21:15:54 bostic Exp $-->
<!--$Id: env_set_errfile.so,v 10.37 2006/10/26 15:33:59 bostic Exp $-->
<!--Copyright (c) 1997,2007 Oracle.  All rights reserved.-->
<!--See the file LICENSE for redistribution information.-->
<html>
<head>
<title>Berkeley DB: Db::set_errfile</title>
<meta name="description" content="Berkeley DB: An embedded database programmatic toolkit.">
<meta name="keywords" content="embedded,database,programmatic,toolkit,btree,hash,hashing,transaction,transactions,locking,logging,access method,access methods,Java,C,C++">
</head>
<body bgcolor=white>
<table width="100%"><tr valign=top>
<td>
<h3>Db::set_errfile</h3>
</td>
<td align=right>
<a href="../api_cxx/api_core.html"><img src="../images/api.gif" alt="API"></a>
<a href="../ref/toc.html"><img src="../images/ref.gif" alt="Ref"></a></td>
</tr></table>
<hr size=1 noshade>
<tt>
<h3><pre>
#include &lt;db_cxx.h&gt;
<p>
void Db::set_errfile(FILE *errfile);
<p>
void Db::get_errfile(FILE **errfilep);
</pre></h3>
<hr size=1 noshade>
<h3>Description: Db::set_errfile</h3>
When an error occurs in the Berkeley DB library, an exception is thrown or an
error return value is returned by the interface.  In some cases,
however, the exception or returned value may be insufficient to
completely describe the cause of the error, especially during initial
application debugging.
<p>The <a href="../api_cxx/env_set_errcall.html">DbEnv::set_errcall</a> and <a href="../api_cxx/db_set_errcall.html">Db::set_errcall</a> methods are used to
enhance the mechanism for reporting error messages to the application
by setting a C library FILE * to be used for displaying additional Berkeley DB
error messages.  In some cases, when an error occurs, Berkeley DB will output
an additional error message to the specified file reference.</p>
<p>Alternatively, you can use the <a href="../api_cxx/env_set_error_stream.html">DbEnv::set_error_stream</a> method to display
the additional information via an output stream, or the
<a href="../api_cxx/env_set_errcall.html">DbEnv::set_errcall</a> method to capture the additional error information in
a way that does not use either output streams or C library FILE *'s.  You
should not mix these approaches.</p>
<p>The error message will consist of the prefix string and a colon
("<b>:</b>") (if a prefix string was previously specified using
<a href="../api_cxx/db_set_errpfx.html">Db::set_errpfx</a> or <a href="../api_cxx/env_set_errpfx.html">DbEnv::set_errpfx</a>), an error string, and
a trailing &lt;newline&gt; character.</p>
<p>The default configuration when applications first create <a href="../api_cxx/db_class.html">Db</a> or
<a href="../api_cxx/env_class.html">DbEnv</a> handles is as if the <a href="../api_cxx/env_set_errfile.html">DbEnv::set_errfile</a> or
Db::set_errfile methods were called with the standard error output
(stderr) specified as the FILE * argument.  Applications wanting no
output at all can turn off this default configuration by calling the
<a href="../api_cxx/env_set_errfile.html">DbEnv::set_errfile</a> or Db::set_errfile methods with NULL as the
FILE * argument.  Additionally, explicitly configuring the error output
channel using any of the <a href="../api_cxx/env_set_errfile.html">DbEnv::set_errfile</a>,
Db::set_errfile, <a href="../api_cxx/env_set_errcall.html">DbEnv::set_errcall</a>,
<a href="../api_cxx/db_set_errcall.html">Db::set_errcall</a>, <a href="../api_cxx/env_set_error_stream.html">DbEnv::set_error_stream</a> or
<a href="../api_cxx/db_set_error_stream.html">Db::set_error_stream</a> methods will also turn off this default output
for the application.</p>
<p>This error logging enhancement does not slow performance or significantly
increase application size, and may be run during normal operation as well
as during application debugging.</p>
<p>For <a href="../api_cxx/db_class.html">Db</a> handles opened inside of Berkeley DB environments, calling the
Db::set_errfile method affects the entire environment and is equivalent to calling
the <a href="../api_cxx/env_set_errfile.html">DbEnv::set_errfile</a> method.</p>
<p>The Db::set_errfile method configures operations performed using the specified
<a href="../api_cxx/db_class.html">Db</a> handle, not all operations performed on the underlying
database.</p>
<p>The Db::set_errfile method may be called at any time during the life of the
application.</p>
<h3>Parameters</h3>
<dl compact>
<dt><b>errfile</b><dd>The <b>errfile</b> parameter is a C library FILE * to be used for
displaying additional Berkeley DB error information.
</dl>
<hr size=1 noshade>
<h3>Description: Db::get_errfile</h3>
<p>The Db::get_errfile method returns the FILE *.</p>
<p>The Db::get_errfile method may be called at any time during the life of the
application.</p>
<p>The Db::get_errfile method
either returns a non-zero error value
or throws an exception that encapsulates a non-zero error value on
failure, and returns 0 on success.
</p>
<h3>Parameters</h3>
<dl compact>
<dt><b>errfilep</b><dd>The Db::get_errfile method returns  the
FILE * in <b>errfilep</b>.
</dl>
<hr size=1 noshade>
<h3>Class</h3>
<a href="../api_cxx/db_class.html">Db</a>
<h3>See Also</h3>
<a href="../api_cxx/db_list.html">Databases and Related Methods</a>
</tt>
<table width="100%"><tr><td><br></td><td align=right>
<a href="../api_cxx/api_core.html"><img src="../images/api.gif" alt="API"></a><a href="../ref/toc.html"><img src="../images/ref.gif" alt="Ref"></a>
</td></tr></table>
<p><font size=1>Copyright (c) 1996,2007 Oracle.  All rights reserved.</font>
</body>
</html>
