.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "RPM" "8" "09 June 2002" "Red Hat, Inc."
.SH NAME
rpm \- RPM Package Manager
.SH SYNOPSIS
.SS "QUERYING AND VERIFYING PACKAGES:"
.PP


\fBrpm\fR {\fB-q|--query\fR} [\fBselect-options\fR] [\fBquery-options\fR]

\fBrpm\fR \fB--querytags\fR

\fBrpm\fR {\fB-V|--verify\fR} [\fBselect-options\fR] [\fBverify-options\fR]

.SS "INSTALLING, UPGRADING, AND REMOVING PACKAGES:"
.PP


\fBrpm\fR {\fB-i|--install\fR} [\fBinstall-options\fR] \fB\fIPACKAGE_FILE\fB\fR\fI ...\fR



\fBrpm\fR {\fB-U|--upgrade\fR} [\fBinstall-options\fR] \fB\fIPACKAGE_FILE\fB\fR\fI ...\fR



\fBrpm\fR {\fB-F|--freshen\fR} [\fBinstall-options\fR] \fB\fIPACKAGE_FILE\fB\fR\fI ...\fR



\fBrpm\fR {\fB--reinstall\fR} [\fBinstall-options\fR] \fB\fIPACKAGE_FILE\fB\fR\fI ...\fR



\fBrpm\fR {\fB-e|--erase\fR} [\fB--allmatches\fR] [\fB--justdb] [\fB--nodeps\fR] [\fB--noscripts\fR]
    [\fB--notriggers\fR] [\fB--test\fR] \fB\fIPACKAGE_NAME\fB\fR\fI\ ...\fR

.SS "MISCELLANEOUS:"
.PP

\fBrpm\fR \fB--showrc\fR

\fBrpm\fR \fB--setperms\fR \fB\fIPACKAGE_NAME\fB\fR\fI ...\fR

\fBrpm\fR \fB--setugids\fR \fB\fIPACKAGE_NAME\fB\fR\fI ...\fR

\fBrpm\fR \fB--setcaps\fR \fB\fIPACKAGE_NAME\fB\fR\fI ...\fR

\fBrpm\fR \fB--restore\fR \fB\fIPACKAGE_NAME\fB\fR\fI ...\fR

.SS "select-options"
.PP

 [\fB\fIPACKAGE_NAME\fB\fR]
 [\fB-a,--all [\fISELECTOR\fR]\fR] [\fB-f,--file \fIFILE\fB\fR]
 [\fB-g,--group \fIGROUP\fB\fR] [\fB-p,--package \fIPACKAGE_FILE\fB\fR]
 [\fB--hdrid \fISHA1\fB\fR] [\fB--pkgid \fIMD5\fB\fR] [\fB--tid \fITID\fB\fR]
 [\fB--querybynumber \fIHDRNUM\fB\fR] [\fB--triggeredby \fIPACKAGE_NAME\fB\fR]
 [\fB--whatprovides \fICAPABILITY\fB\fR] [\fB--whatrequires \fICAPABILITY\fB\fR]
 [\fB--whatrecommends \fICAPABILITY\fB\fR] [\fB--whatsuggests \fICAPABILITY\fB\fR]
 [\fB--whatsupplements \fICAPABILITY\fB\fR] [\fB--whatenhances \fICAPABILITY\fB\fR]
 [\fB--whatobsoletes \fICAPABILITY\fB\fR] [\fB--whatconflicts \fICAPABILITY\fB\fR]

.SS "query-options"
.PP
General:
 [\fB--changelog\fR] [\fB--changes\fR]  [\fB--dupes\fR] [\fB-i,--info\fR]
 [\fB--last\fR] [\fB--qf,--queryformat \fIQUERYFMT\fB\fR] [\fB--xml\fR]
.PP
Dependencies:
 [\fB--conflicts\fR] [\fB--enhances\fR] [\fB--obsoletes\fR] [\fB--provides\fR]
 [\fB--recommends\fR] [\fB-R,--requires\fR] [\fB--suggests\fR] [\fB--supplements\fR]
.PP
Files:
 [\fB-c,--configfiles\fR] [\fB-d,--docfiles\fR] [\fB--dump\fR] [\fB--fileclass\fR]
 [\fB--filecolor\fR] [\fB--fileprovide\fR][\fB--filerequire\fR] [\fB--filecaps\fR]
 [\fB--filesbypkg\fR] [\fB-l,--list\fR] [\fB-s,--state\fR]
 [\fB--noartifact\fR] [\fB--noghost\fR] [\fB--noconfig\fR]
.PP
Scripts and triggers:
 [\fB--filetriggers\fR] [\fB--scripts\fR] [\fB--triggers,--triggerscripts\fR]

.SS "verify-options"
.PP


 [\fB--nodeps\fR] [\fB--nofiles\fR] [\fB--noscripts\fR]
 [\fB--nodigest\fR] [\fB--nosignature\fR]
 [\fB--nolinkto\fR] [\fB--nofiledigest\fR] [\fB--nosize\fR] [\fB--nouser\fR]
 [\fB--nogroup\fR] [\fB--nomtime\fR] [\fB--nomode\fR] [\fB--nordev\fR]
 [\fB--nocaps\fR]

.SS "install-options"
.PP


 [\fB--allfiles\fR] [\fB--badreloc\fR] [\fB--excludepath \fIOLDPATH\fB\fR]
 [\fB--excludedocs\fR] [\fB--force\fR] [\fB-h,--hash\fR]
 [\fB--ignoresize\fR] [\fB--ignorearch\fR] [\fB--ignoreos\fR]
 [\fB--includedocs\fR] [\fB--justdb\fR]
 [\fB--nodeps\fR] [\fB--nodigest\fR] [\fB--noplugins\fR]
 [\fB--nocaps\fR] [\fB--noorder\fR] [\fB--noverify\fR]
 [\fB--nosignature\fR] [\fB--noscripts\fR] [\fB--notriggers\fR]
 [\fB--oldpackage\fR] [\fB--percent\fR] [\fB--prefix \fINEWPATH\fB\fR]
 [\fB--relocate \fIOLDPATH\fB=\fINEWPATH\fB\fR]
 [\fB--replacefiles\fR] [\fB--replacepkgs\fR]
 [\fB--test\fR]

.SH "DESCRIPTION"
.PP
\fBrpm\fR is a powerful \fBPackage Manager\fR,
which can be used to build, install, query, verify, update, and
erase individual software packages.
A \fBpackage\fR consists of an archive of files and
meta-data used to install and erase the archive files. The meta-data
includes helper scripts, file attributes, and descriptive information
about the package.
\fBPackages\fR come in two varieties: binary packages,
used to encapsulate software to be installed, and source packages,
containing the source code and recipe necessary to produce binary
packages.
.PP
One of the following basic modes must be selected:
\fBQuery\fR,
\fBVerify\fR,
\fBInstall/Upgrade/Freshen/Reinstall\fR,
\fBUninstall\fR,
\fBSet Owners/Groups\fR,
\fBShow Querytags\fR, and
\fBShow Configuration\fR.
.SS "GENERAL OPTIONS"
.PP
These options can be used in all the different modes.
.TP
\fB-?, --help\fR
Print a longer usage message then normal.
.TP
\fB--version\fR
Print a single line containing the version number of \fBrpm\fR
being used. 
.TP
\fB--quiet\fR
Print as little as possible - normally only error messages will
be displayed.
.TP
\fB-v, --verbose\fR
Print verbose information - normally routine progress messages will be
displayed.
.TP
\fB-vv\fR
Print lots of ugly debugging information.
.TP
\fB--rcfile \fIFILELIST\fB\fR
Replace the list of configuration files to be read. Each of the files in the colon separated
\fIFILELIST\fR
is read sequentially by \fBrpm\fR for configuration
information.
Only the first file in the list must exist, and tildes will be
expanded to the value of \fB$HOME\fR.
The default \fIFILELIST\fR is
\fI/usr/\:lib/\:rpm/\:rpmrc\fR:\:\fI/usr/\:lib/\:rpm/\:redhat/\:rpmrc\fR:\:\fI/etc/\:rpmrc\fR:\:\fI~/.rpmrc\fR.

.TP
\fB--load \fIFILE\fB\fR
Load an individual macro file.

.TP
\fB--macros \fIFILELIST\fB\fR
Replace the list of macro files to be loaded. Each of the files in the colon separated
\fIFILELIST\fR
is read sequentially by \fBrpm\fR for macro definitions.
Only the first file in the list must exist, and tildes will be
expanded to the value of \fB$HOME\fR.
The default \fIFILELIST\fR is
\fI/usr/\:lib/\:rpm/\:macros\fR:\:\fI/usr/\:lib/\:rpm/\:macros.d/\:macros.*\fR:\:\fI/usr/\:lib/\:rpm/\:platform/\:%{_target}/\:macros\fR:\:\fI/usr/\:lib/\:rpm/\:fileattrs/\:*.attr\fR:\:\fI/usr/\:lib/\:rpm/\:redhat/\:macros\fR:\:\fI/etc/\:rpm/\:macros.*\fR:\:\fI/etc/\:rpm/\:macros\fR:\:\fI/etc/\:rpm/\:%{_target}/\:macros\fR:\:\fI~/.rpmmacros

.TP
\fB--pipe \fICMD\fB\fR
Pipes the output of \fBrpm\fR to the command \fICMD\fR.
.TP
\fB--dbpath \fIDIRECTORY\fB\fR
Use the database in \fIDIRECTORY\fR rather
than the default path \fI/var/lib/rpm\fR
.TP
\fB--root \fIDIRECTORY\fB\fR
Use the file system tree rooted at \fIDIRECTORY\fR for all operations.
Note that this means the database within
\fIDIRECTORY\fR
will be used for dependency checks and any scriptlet(s) (e.g.
\fB%post\fR if installing, or
\fB%prep\fR if building, a package)
will be run after a chroot(2) to
\fIDIRECTORY\fR.
.TP
\fB-D, --define='\fIMACRO EXPR\fB'\fR
Defines \fIMACRO\fR with value \fIEXPR\fR.
.TP
\fB--undefine='\fIMACRO\fB'\fR
Undefines \fIMACRO\fR.
.TP
\fB-E, --eval='\fIEXPR\fB'\fR
Prints macro expansion of \fIEXPR\fR.

.PP
More - less often needed - options can be found on the \fBrpm-misc(8)\fR man page.
.SS "INSTALL AND UPGRADE OPTIONS"
.PP
In these options, \fIPACKAGE_FILE\fR can be either \fBrpm\fR binary
file or ASCII package manifest (see \fBPACKAGE SELECTION OPTIONS\fR), and
may be specified as an
\fBftp\fR or
\fBhttp\fR URL,
in which case the package will be downloaded before being
installed. See \fBFTP/HTTP OPTIONS\fR
for information on \fBrpm\fR's
\fBftp\fR and
\fBhttp\fR
client support.
.PP
The general form of an rpm install command is 
.PP
\fBrpm\fR {\fB-i|--install\fR} [\fBinstall-options\fR] \fB\fIPACKAGE_FILE\fB\fR\fI ...\fR
.PP
This installs a new package.
.PP
The general form of an rpm upgrade command is 
.PP
\fBrpm\fR {\fB-U|--upgrade\fR} [\fBinstall-options\fR] \fB\fIPACKAGE_FILE\fB\fR\fI ...\fR
.PP
This upgrades or installs the package currently installed
to a newer version.  This is the same as install, except
all other version(s) of the package are removed after the
new package is installed.
.PP
\fBrpm\fR {\fB-F|--freshen\fR} [\fBinstall-options\fR] \fB\fIPACKAGE_FILE\fB\fR\fI ...\fR
.PP
This will upgrade packages, but only ones for which an earlier version is
installed.
.PP
The general form of an rpm reinstall command is 
.PP
\fBrpm\fR {\fB--reinstall\fR} [\fBinstall-options\fR] \fB\fIPACKAGE_FILE\fB\fR\fI ...\fR
.PP
This reinstalls a previously installed package.
.PP
.PP
.TP
\fB--allfiles\fR
Installs or upgrades all the missingok files in the package,
regardless if they exist.
.TP
\fB--badreloc\fR
Used with \fB--relocate\fR, permit relocations on
all file paths, not just those \fIOLDPATH\fR's
included in the binary package relocation hint(s).
.TP
\fB--excludepath \fIOLDPATH\fB\fR
Don't install files whose name begins with
\fIOLDPATH\fR.
.TP
\fB--excludeartifacts\fR
Don't install any files which are marked as artifacts,
such as build-id links.
.TP
\fB--excludedocs\fR
Don't install any files which are marked as documentation
(which includes man pages and texinfo documents).
.TP
\fB--force\fR
Same as using
\fB--replacepkgs\fR,
\fB--replacefiles\fR, and
\fB--oldpackage\fR.
.TP
\fB-h, --hash\fR
Print 50 hash marks as the package archive is unpacked.
Use with \fB-v|--verbose\fR for a nicer display.
.TP
\fB--ignoresize\fR
Don't check mount file systems for sufficient disk space before
installing this package.
.TP
\fB--ignorearch\fR
Allow installation or upgrading even if the architectures
of the binary package and host don't match.
.TP
\fB--ignoreos\fR
Allow installation or upgrading even if the operating
systems of the binary package and host don't match.
.TP
\fB--includedocs\fR
Install documentation files. This is the default behavior.
.TP
\fB--justdb\fR
Update only the database, not the filesystem.
.TP
\fB--nodigest\fR
Don't verify package or header digests when reading.
.TP
\fB--nomanifest\fR
Don't process non-package files as manifests.
.TP
\fB--nosignature\fR
Don't verify package or header signatures when reading.
.TP
\fB--nodeps\fR
Don't do a dependency check before installing or upgrading
a package.
.TP
\fB--nocaps\fR
Don't set file capabilities.
.TP
\fB--noorder\fR
Don't reorder the packages for an install. The list of
packages would normally be reordered to satisfy dependencies.
.TP
\fB--noverify\fR
Don't perform verify package files prior to installation.
.TP
\fB--noplugins\fR
Do not load and execute plugins.
.TP
\fB--noscripts\fR, \fB--nopre\fR, \fB--nopost\fR, \fB--nopreun\fR, \fB--nopostun\fR, \fB--nopretrans\fR, \fB--noposttrans\fR
Don't execute the scriptlet of the same name.
The \fB--noscripts\fR option is equivalent to

\fB--nopre\fR
\fB--nopost\fR
\fB--nopreun\fR
\fB--nopostun\fR
\fB--nopretrans\fR
\fB--noposttrans\fR

and turns off the execution of the corresponding
\fB%pre\fR,
\fB%post\fR,
\fB%preun\fR,
\fB%postun\fR
\fB%pretrans\fR, and
\fB%posttrans\fR
scriptlet(s).

.TP
\fB--notriggers\fR, \fB--notriggerin\fR, \fB--notriggerun\fR, \fB--notriggerprein\fR, \fB--notriggerpostun\fR
Don't execute any trigger scriptlet of the named type.
The \fB--notriggers\fR option is equivalent to

\fB--notriggerprein\fR
\fB--notriggerin\fR
\fB--notriggerun\fR
\fB--notriggerpostun\fR

and turns off execution of the corresponding
\fB%triggerprein\fR,
\fB%triggerin\fR,
\fB%triggerun\fR, and
\fB%triggerpostun\fR
scriptlet(s).
.TP
\fB--oldpackage\fR
Allow an upgrade to replace a newer package with an older one.
.TP
\fB--percent\fR
Print percentages as files are unpacked from the package archive.
This is intended to make \fBrpm\fR easy to run from
other tools.
.TP
\fB--prefix \fINEWPATH\fB\fR
For relocatable binary packages, translate all file paths that
start with the installation prefix in the package relocation hint(s)
to \fINEWPATH\fR.
.TP
\fB--relocate \fIOLDPATH\fB=\fINEWPATH\fB\fR
For relocatable binary packages, translate all file paths
that start with \fIOLDPATH\fR in the
package relocation hint(s) to \fINEWPATH\fR.
This option can be used repeatedly if several
\fIOLDPATH\fR's in the package are to
be relocated.
.TP
\fB--replacefiles\fR
Install the packages even if they replace files from other,
already installed, packages.
.TP
\fB--replacepkgs\fR
Install the packages even if some of them are already installed
on this system.
.TP
\fB--test\fR
Do not install the package, simply check for and report
potential conflicts.
.SS "ERASE OPTIONS"
.PP
The general form of an rpm erase command is 
.PP

\fBrpm\fR {\fB-e|--erase\fR} [\fB--allmatches\fR] [\fB--justdb] [\fB--nodeps\fR] [\fB--noscripts\fR] [\fB--notriggers\fR] [\fB--test\fR] \fB\fIPACKAGE_NAME\fB\fR\fI ...\fR

.PP
The following options may also be used:
.TP
\fB--allmatches\fR
Remove all versions of the package which match
\fIPACKAGE_NAME\fR. Normally an
error is issued if \fIPACKAGE_NAME\fR
matches multiple packages.
.TP
\fB--justdb\fR
Update only the database, not the filesystem.
.TP
\fB--nodeps\fR
Don't check dependencies before uninstalling the packages.
.TP
\fB--noscripts\fR, \fB--nopreun\fR, \fB--nopostun\fR
Don't execute the scriptlet of the same name.
The \fB--noscripts\fR option during package erase is
equivalent to

\fB--nopreun\fR
\fB--nopostun\fR

and turns off the execution of the corresponding
\fB%preun\fR, and
\fB%postun\fR
scriptlet(s).
.TP
\fB--notriggers\fR, \fB--notriggerun\fR, \fB--notriggerpostun\fR
Don't execute any trigger scriptlet of the named type.
The \fB--notriggers\fR option is equivalent to

\fB--notriggerun\fR
\fB--notriggerpostun\fR

and turns off execution of the corresponding
\fB%triggerun\fR, and
\fB%triggerpostun\fR
scriptlet(s).
.TP
\fB--test\fR
Don't really uninstall anything, just go through the motions.
Useful in conjunction with the \fB-vv\fR option
for debugging.
.SS "QUERY OPTIONS"
.PP
The general form of an rpm query command is 
.PP

\fBrpm\fR {\fB-q|--query\fR} [\fBselect-options\fR] [\fBquery-options\fR]

.PP
You may specify the format that package information should be
printed in. To do this, you use the

 \fB--qf|--queryformat\fR \fB\fIQUERYFMT\fB\fR

option, followed by the \fIQUERYFMT\fR
format string.  Query formats are modified versions of the
standard \fBprintf(3)\fR formatting. The format
is made up of static strings (which may include standard C
character escapes for newlines, tabs, and other special
characters) and \fBprintf(3)\fR type formatters.
As \fBrpm\fR already knows the type to print, the
type specifier must be omitted however, and replaced by the name
of the header tag to be printed, enclosed by \fB{}\fR
characters. Tag names are case insensitive, and the leading
\fBRPMTAG_\fR portion of the tag name may be omitted
as well.
.PP
Alternate output formats may be requested by following
the tag with \fB:\fItypetag\fB\fR.
Currently, the following types are supported:
.TP
\fB:armor\fR
Wrap a public key in ASCII armor.
.TP
\fB:arraysize\fR
Display number of elements in array tags.
.TP
\fB:base64\fR
Encode binary data using base64.
.TP
\fB:date\fR
Use strftime(3) "%c" format.
.TP
\fB:day\fR
Use strftime(3) "%a %b %d %Y" format.
.TP
\fB:depflags\fR
Format dependency comparison operator.
.TP
\fB:deptype\fR
Format dependency type.
.TP
\fB:expand\fR
Perform macro expansion.
.TP
\fB:fflags\fR
Format file flags.
.TP
\fB:fstate\fR
Format file state.
.TP
\fB:fstatus\fR
Format file verify status.
.TP
\fB:hex\fR
Format in hexadecimal.
.TP
\fB:octal\fR
Format in octal.
.TP
\fB:humaniec\fR
Human readable number (in IEC 80000). The suffix K = 1024, M = 1048576, ...
.TP
\fB:humansi\fR
Human readable number (in SI). The suffix K = 1000, M = 1000000, ...
.TP
\fB:perms\fR
Format file permissions.
.TP
\fB:pgpsig\fR
Display signature fingerprint and time.
.TP
\fB:shescape\fR
Escape single quotes for use in a script.
.TP
\fB:string\fR
Display string format. (default)
.TP
\fB:triggertype\fR
Display trigger suffix.
.TP
\fB:vflags\fR
File verification flags.
.TP
\fB:xml\fR
Wrap data in simple xml markup.
.PP
For example, to print only the names of the packages queried,
you could use \fB%{NAME}\fR as the format string.
To print the packages name and distribution information in
two columns, you could use \fB%-30{NAME}%{DISTRIBUTION}\fR.
\fBrpm\fR will print a list of all of the tags it knows about when it
is invoked with the \fB--querytags\fR argument.
.PP
There are three subsets of options for querying: package selection,
file selection and information selection.
.SS "PACKAGE SELECTION OPTIONS:"
.PP
.TP
\fB\fIPACKAGE_NAME\fB\fR
Query installed package named \fIPACKAGE_NAME\fR. To specify the package more precisely the package name may be followed by the version or version and release
both separated by a dash or an architecture name separated by a dot. See the output of \fBrpm -qa\fR or \fBrpm -qp \fIPACKAGE_FILE\fB\fR as an example.

.TP
\fB-a, --all [\fISELECTOR\fR]\fR
Query all installed packages.

An optional \fISELECTOR\fR in the form of tag=pattern can be provided to
narrow the selection, for example name="b*" to query packages whose name
starts with "b".
.TP
\fB--dupes\fB
List duplicated packages.
.TP
\fB-f, --file \fIFILE\fB\fR
Query package owning \fIFILE\fR.
.TP
\fB--filecaps\fR
List file names with POSIX1.e capabilities.
.TP
\fB--fileclass\fR
List file names with their classes (libmagic classification).
.TP
\fB--filecolor\fR
List file names with their colors (0 for noarch, 1 for 32bit, 2 for 64 bit).
.TP
\fB--fileprovide\fR
List file names with their provides.
.TP
\fB--filerequire\fR
List file names with their requires.
.TP
\fB-g, --group \fIGROUP\fB\fR
Query packages with the group of \fIGROUP\fR.
.TP
\fB--hdrid \fISHA1\fB\fR
Query package that contains a given header identifier, i.e. the
\fISHA1\fR digest of the immutable header region.
.TP
\fB-p, --package \fIPACKAGE_FILE\fB\fR
Query an (uninstalled) package \fIPACKAGE_FILE\fR.
The \fIPACKAGE_FILE\fR may be specified
as an \fBftp\fR or \fBhttp\fR style URL, in
which case the package header will be downloaded and queried.
See \fBFTP/HTTP OPTIONS\fR for information on
\fBrpm\fR's
\fBftp\fR and
\fBhttp\fR
client support. The \fIPACKAGE_FILE\fR argument(s),
if not a binary package, will be interpreted as an ASCII package
manifest unless \fB--nomanifest\fR option is used.  
In manifests, comments are permitted, starting with a '#', and each
line of a package manifest file may include white space separated
glob expressions, including URL's,
that will be expanded to paths that are substituted in place of
the package manifest as additional \fIPACKAGE_FILE\fR
arguments to the query.
.TP
\fB--pkgid \fIMD5\fB\fR
Query package that contains a given package identifier, i.e. the
\fIMD5\fR digest of the combined header and
payload contents.
.TP
\fB--querybynumber \fIHDRNUM\fB\fR
Query the \fIHDRNUM\fRth database entry
directly; this is useful only for debugging.
.TP
\fB--specfile \fISPECFILE\fB\fR
Parse and query \fISPECFILE\fR as if
it were a package. Although not all the information (e.g. file lists)
is available, this type of query permits rpm to be used to extract
information from spec files without having to write a specfile
parser.
.TP
\fB--tid \fITID\fB\fR
Query package(s) that have a given \fITID\fR
transaction identifier. A unix time stamp is currently used as a
transaction identifier. All package(s) installed or erased within
a single transaction have a common identifier.
.TP
\fB--triggeredby \fIPACKAGE_NAME\fB\fR
Query packages that are triggered by package(s)
\fIPACKAGE_NAME\fR.
.TP
\fB--whatobsoletes \fICAPABILITY\fB\fR
Query all packages that obsolete \fICAPABILITY\fR for proper functioning.
.TP
\fB--whatprovides \fICAPABILITY\fB\fR
Query all packages that provide the \fICAPABILITY\fR capability.
.TP
\fB--whatrequires \fICAPABILITY\fB\fR
Query all packages that require \fICAPABILITY\fR for proper functioning.
.TP
\fB--whatconflicts \fICAPABILITY\fB\fR
Query all packages that conflict with \fICAPABILITY\fR.
.TP
\fB--whatrecommends \fICAPABILITY\fB\fR
Query all packages that recommend \fICAPABILITY\fR.
.TP
\fB--whatsuggests \fICAPABILITY\fB\fR
Query all packages that suggest \fICAPABILITY\fR.
.TP
\fB--whatsupplements \fICAPABILITY\fB\fR
Query all packages that supplement \fICAPABILITY\fR.
.TP
\fB--whatenhances \fICAPABILITY\fB\fR
Query all packages that enhance \fICAPABILITY\fR.
.SS "PACKAGE QUERY OPTIONS:"
.PP
.TP
\fB--changelog\fR
Display change information for the package.
.TP
\fB--changes\fR
Display change information for the package with full time stamps.
.TP
\fB--conflicts\fR
List capabilities this package conflicts with.
.TP
\fB--dump\fR
Dump file information as follows (implies \fB-l\fR):
.sp
.RS

.nf
path size mtime digest mode owner group isconfig isdoc rdev symlink
	
.fi
.RE
.TP
\fB--enhances\fR
List capabilities enhanced by package(s)
.TP
\fB--filesbypkg\fR
List all the files in each selected package.
.TP
\fB--filetriggers\fR
List filetrigger scriptlets from package(s).
.TP
\fB-i, --info\fR
Display package information, including name, version, and description.
This uses the \fB--queryformat\fR if one was specified.
.TP
\fB--last\fR
Orders the package listing by install time such that the latest
packages are at the top.
.TP
\fB-l, --list\fR
List files in package.
.TP
\fB--obsoletes\fR
List packages this package obsoletes.
.TP
\fB--provides\fR
List capabilities this package provides.
.TP
\fB--recommends\fR
List capabilities recommended by package(s)
.TP
\fB-R, --requires\fR
List capabilities on which this package depends.
.TP
\fB--suggests\fR
List capabilities suggested by package(s)
.TP
\fB--supplements\fR
List capabilities supplemented by package(s)
.TP
\fB--scripts\fR
List the package specific scriptlet(s) that are used as part
of the installation and uninstallation processes.
.TP
\fB-s, --state\fR
Display the \fIstates\fR of files in the package
(implies \fB-l\fR).  The state of each file is one of
\fInormal\fR,
\fInot installed\fR, or
\fIreplaced\fR.
.TP
\fB--triggers, --triggerscripts\fR
Display the trigger scripts, if any, which are contained in
the package.
\fB--xml\fR
Format package headers as XML.

.SS "FILE SELECTION OPTIONS:"
.PP
.TP
\fB-A, --artifactfiles\fR
Only include artifact files (implies \fB-l\fR).
.TP
\fB-c, --configfiles\fR
Only include configuration files (implies \fB-l\fR).
.TP
\fB-d, --docfiles\fR
Only include documentation files (implies \fB-l\fR).
.TP
\fB-L, --licensefiles\fR
Only include license files (implies \fB-l\fR).
.TP
\fB--noartifact\fR
Exclude artifact files.
.TP
\fB--noconfig\fR
Exclude config files.
.TP
\fB--noghost\fR
Exclude ghost files.

.SS "VERIFY OPTIONS"
.PP
The general form of an rpm verify command is 
.PP

\fBrpm\fR {\fB-V|--verify\fR} [\fBselect-options\fR] [\fBverify-options\fR]

.PP
Verifying a package compares information about the installed files in
the package with information about the files taken from the package
metadata stored in the rpm database.  Among other things, verifying
compares the size, digest, permissions, type, owner and group of
each file.  Any discrepancies are displayed.
Files that were not installed from the package, for example,
documentation files excluded on installation using the
"\fB--excludedocs\fR" option,
will be silently ignored.
.PP
The package and file selection options are the same as for package
querying (including package manifest files as arguments).
Other options unique to verify mode are:
.TP
\fB--nodeps\fR
Don't verify dependencies of packages.
.TP
\fB--nodigest\fR
Don't verify package or header digests when reading.
.TP
\fB--nofiles\fR
Don't verify any attributes of package files.
.TP
\fB--noscripts\fR
Don't execute the \fB%verifyscript\fR scriptlet (if any).
.TP
\fB--nosignature\fR
Don't verify package or header signatures when reading.
.TP
\fB--nolinkto\fR
.TP
\fB--nofiledigest\fR (formerly \fB--nomd5\fR)
.TP
\fB--nosize\fR
.TP
\fB--nouser\fR
.TP
\fB--nogroup\fR
.TP
\fB--nomtime\fR
.TP
\fB--nomode\fR
.TP
\fB--nordev\fR
Don't verify the corresponding file attribute.
.TP
\fB--nocaps\fR
Don't verify file capabilities.
.PP
The format of the output is a string of 9 characters, a possible
attribute marker:

.nf
\fBc\fR \fB%config\fR configuration file.
\fBd\fR \fB%doc\fR documentation file.
\fBg\fR \fB%ghost\fR file (i.e. the file contents are not included in the package payload).
\fBl\fR \fB%license\fR license file.
\fBr\fR \fB%readme\fR readme file.
.fi

from the package header, followed by the file name.
Each of the 9 characters denotes the result of a comparison of
attribute(s) of the file to the value of those attribute(s) recorded
in the database.  A single
"\fB.\fR" (period)
means the test passed, while a single
"\fB?\fR" (question mark)
indicates the test could not be performed (e.g. file permissions
prevent reading). Otherwise, the (mnemonically
em\fBB\fRoldened) character denotes failure of
the corresponding \fB--verify\fR test:

.nf
\fBS\fR file \fBS\fRize differs
\fBM\fR \fBM\fRode differs (includes permissions and file type)
\fB5\fR digest (formerly MD\fB5\fR sum) differs
\fBD\fR \fBD\fRevice major/minor number mismatch
\fBL\fR read\fBL\fRink(2) path mismatch
\fBU\fR \fBU\fRser ownership differs
\fBG\fR \fBG\fRroup ownership differs
\fBT\fR m\fBT\fRime differs
\fBP\fR ca\fBP\fRabilities differ
.fi

.SS "MISCELLANEOUS COMMANDS"
.PP
.TP
\fBrpm\fR \fB--showrc\fR
shows the values \fBrpm\fR will use for all of the
options are currently set in
\fIrpmrc\fR and
\fImacros\fR
configuration file(s).
.TP
\fBrpm\fR \fB--setperms\fR \fIPACKAGE_NAME\fR
sets permissions of files in the given package. Consider using
\fB--restore\fR instead.
.TP
\fBrpm\fR \fB--setugids\fR \fIPACKAGE_NAME\fR
sets user/group ownership of files in the given package. This command can
change permissions and capabilities of files in that package. In most
cases it is better to use \fB--restore\fR instead.
.TP
\fBrpm\fR \fB--setcaps\fR \fIPACKAGE_NAME\fR
sets capabilities of files in the given package. Consider using
\fB--restore\fR instead.
.TP
\fBrpm\fR \fB--restore\fR \fIPACKAGE_NAME\fR
The option restores owner, group, permissions and capabilities of files
in the given package.
.TP
Options \fB--setperms\fR, \fB--setugids\fR, \fB--setcaps\fR and
\fB--restore\fR are mutually exclusive.

.SS "FTP/HTTP OPTIONS"
.PP
\fBrpm\fR can act as an FTP and/or HTTP client so
that packages can be queried or installed from the internet.
Package files for install, upgrade, and query operations may be
specified as an
\fBftp\fR or
\fBhttp\fR
style URL:  
.PP
http://HOST[:PORT]/path/to/package.rpm
.PP
ftp://[USER:PASSWORD]@HOST[:PORT]/path/to/package.rpm
.PP
If both the user and password are omitted, anonymous \fBftp\fR is used.
.PP
\fBrpm\fR allows the following options to be used with
ftp URLs:
.TP
\fBrpm\fR allows the following options to be used with
\fBhttp\fR and \fBftp\fR URLs:
.TP
\fB--httpproxy \fIHOST\fB\fR
The host \fIHOST\fR will be used as
a proxy server for all \fBhttp\fR and \fBftp\fR transfers. This
option may also be specified by configuring the macro
\fB%_httpproxy\fR.
.TP
\fB--httpport \fIPORT\fB\fR
The TCP \fIPORT\fR number to use for the
\fBhttp\fR connection on the proxy http server instead
of the default port. This option may also be specified by configuring
the macro \fB%_httpport\fR.
.SH "LEGACY ISSUES"
.SS "Executing rpmbuild"
.PP
The build modes of rpm are now resident in the \fI/usr/bin/rpmbuild\fR 
executable. 
Install the package containing \fBrpmbuild\fR (usually \fBrpm-build\fR) and see
\fBrpmbuild\fR(8) for documentation of all the \fBrpm\fR build modes.
.SH "FILES"
.SS "rpmrc Configuration"
.PP
.nf
\fI/usr/lib/rpm/rpmrc\fR
\fI/usr/lib/rpm/<vendor>/rpmrc\fR
\fI/etc/rpmrc\fR
\fI~/.rpmrc\fR
.fi
.SS "Macro Configuration"
.PP
.nf
\fI/usr/lib/rpm/macros\fR
\fI/usr/lib/rpm/<vendor>/macros\fR
\fI/etc/rpm/macros\fR
\fI~/.rpmmacros\fR
.fi
.SS "Database"
.PP
.nf
\fI/var/lib/rpm/Basenames\fR
\fI/var/lib/rpm/Conflictname\fR
\fI/var/lib/rpm/Dirnames\fR
\fI/var/lib/rpm/Group\fR
\fI/var/lib/rpm/Installtid\fR
\fI/var/lib/rpm/Name\fR
\fI/var/lib/rpm/Obsoletename\fR
\fI/var/lib/rpm/Packages\fR
\fI/var/lib/rpm/Providename\fR
\fI/var/lib/rpm/Requirename\fR
\fI/var/lib/rpm/Sha1header\fR
\fI/var/lib/rpm/Sigmd5\fR
\fI/var/lib/rpm/Triggername\fR
.fi
.SS "Temporary"
.PP
\fI/var/tmp/rpm*\fR
.SH "SEE ALSO"

.nf
\fBrpm-misc(8),
\fBpopt\fR(3),
\fBrpm2cpio\fR(8),
\fBrpmbuild\fR(8),
\fBrpmdb\fR(8),
\fBrpmkeys\fR(8),
\fBrpmsign\fR(8),
\fBrpmspec\fR(8),
.fi

\fBrpm --help\fR - as rpm supports customizing the options via popt aliases 
it's impossible to guarantee that what's described in the manual matches 
what's available.


\fBhttp://www.rpm.org/ <URL:http://www.rpm.org/>
\fR
.SH "AUTHORS"

.nf
Marc Ewing <marc@redhat.com>
Jeff Johnson <jbj@redhat.com>
Erik Troan <ewt@redhat.com>
.fi
